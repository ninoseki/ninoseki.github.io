<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cryptojackingについてまとめてみた | ninoseki.github.io</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="alternate" type="application/rss+xml" href="https://ninoseki.github.io/rss.xml" title="ninoseki.github.io RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://ninoseki.github.io/feed.atom" title="ninoseki.github.io Atom Feed">
    <link rel="alternate" type="application/json" href="https://ninoseki.github.io/feed.json" title="ninoseki.github.io JSON Feed">
    <meta name="description" content="(●__●)">
    <meta name="twitter:image">
    <meta property="og:url" content="https://ninoseki.github.io/_posts/2017-10-28-cryptojacking.html">
    <meta name="twitter:url" content="https://ninoseki.github.io/_posts/2017-10-28-cryptojacking.html">
    <meta property="og:title" content="Cryptojackingについてまとめてみた">
    <meta name="twitter:title" content="Cryptojackingについてまとめてみた">
    <meta itemprop="name" content="Cryptojackingについてまとめてみた">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta property="og:site_name" content="ninoseki.github.io">
    
    <link rel="preload" href="/assets/css/0.styles.0313a152.css" as="style"><link rel="preload" href="/assets/js/app.c8db5b8a.js" as="script"><link rel="preload" href="/assets/js/2.551672f8.js" as="script"><link rel="preload" href="/assets/js/8.b26ffa7b.js" as="script"><link rel="prefetch" href="/assets/js/10.93b31ecf.js"><link rel="prefetch" href="/assets/js/11.c7100068.js"><link rel="prefetch" href="/assets/js/12.581a6cb7.js"><link rel="prefetch" href="/assets/js/13.4a900d3a.js"><link rel="prefetch" href="/assets/js/14.35bc31c5.js"><link rel="prefetch" href="/assets/js/15.0c5932bf.js"><link rel="prefetch" href="/assets/js/16.299d6e84.js"><link rel="prefetch" href="/assets/js/17.bce521f0.js"><link rel="prefetch" href="/assets/js/18.27e8b041.js"><link rel="prefetch" href="/assets/js/19.e0c00b92.js"><link rel="prefetch" href="/assets/js/20.26e859db.js"><link rel="prefetch" href="/assets/js/21.b30f15e1.js"><link rel="prefetch" href="/assets/js/22.448af522.js"><link rel="prefetch" href="/assets/js/23.ed0bd195.js"><link rel="prefetch" href="/assets/js/24.ab2bb9e9.js"><link rel="prefetch" href="/assets/js/25.2c17fb30.js"><link rel="prefetch" href="/assets/js/26.5c975520.js"><link rel="prefetch" href="/assets/js/27.53eefe9e.js"><link rel="prefetch" href="/assets/js/28.989fe98b.js"><link rel="prefetch" href="/assets/js/29.ad8c9bc4.js"><link rel="prefetch" href="/assets/js/3.78dae79f.js"><link rel="prefetch" href="/assets/js/30.397b4d86.js"><link rel="prefetch" href="/assets/js/31.924c0225.js"><link rel="prefetch" href="/assets/js/32.13b6de82.js"><link rel="prefetch" href="/assets/js/33.27cd3ddf.js"><link rel="prefetch" href="/assets/js/34.134325a9.js"><link rel="prefetch" href="/assets/js/35.7dc97dee.js"><link rel="prefetch" href="/assets/js/4.7d7fb440.js"><link rel="prefetch" href="/assets/js/5.b3da5054.js"><link rel="prefetch" href="/assets/js/6.5cee6874.js"><link rel="prefetch" href="/assets/js/7.1f1d02f6.js"><link rel="prefetch" href="/assets/js/9.79bb7ce1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0313a152.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ninoseki.github.io</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="page-title"><a href="#page-title" class="header-anchor">#</a> Cryptojackingについてまとめてみた</h1> <p><span style="color:#999;">3 min read...</span></p> <h2 id="cryptojackingとは"><a href="#cryptojackingとは" class="header-anchor">#</a> Cryptojackingとは</h2> <p>意図せずに端末上/ブラウザ上で仮想通貨のマイニングを実行させられる攻撃のこと。</p> <p><a href="https://coinhive.com/" target="_blank" rel="noopener noreferrer">Coinhive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>の登場(2017年9月)以降、この用語が使われるようになった模様。</p> <h2 id="想定シナリオ"><a href="#想定シナリオ" class="header-anchor">#</a> 想定シナリオ</h2> <ul><li>Webサイト管理者が、ユーザーの同意なしにCoinhive等のマイニング用JavaScriptをWebサイト上に埋め込む</li> <li>攻撃者がWebサイトを改ざんし、Webサイト上にCoinhive等のマイニング用JavaScriptを埋め込む</li></ul> <h2 id="事例集"><a href="#事例集" class="header-anchor">#</a> 事例集</h2> <h3 id="海外事例"><a href="#海外事例" class="header-anchor">#</a> 海外事例</h3> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr">BREAKING NEWS: <a href="https://twitter.com/hashtag/Coinhive?src=hash&amp;ref_src=twsrc%5Etfw">#Coinhive</a> found on official <a href="https://twitter.com/PolitiFact?ref_src=twsrc%5Etfw">@PolitiFact</a> website in latest case of <a href="https://twitter.com/hashtag/cryptojacking?src=hash&amp;ref_src=twsrc%5Etfw">#cryptojacking</a>. <a href="https://t.co/czGc5aaug7">pic.twitter.com/czGc5aaug7</a></p>— Bad Packets Report (@bad_packets) <a href="https://twitter.com/bad_packets/status/918886823455113216?ref_src=twsrc%5Etfw">October 13, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr">.<a href="https://twitter.com/bobmcmillan?ref_src=twsrc%5Etfw">@bobmcmillan</a> spoke with Politifact Executive Director and found their <a href="https://twitter.com/hashtag/cryptojacking?src=hash&amp;ref_src=twsrc%5Etfw">#cryptojacking</a> incident was due to a &quot;misconfigured cloud server&quot; <a href="https://t.co/OcGW2gNPwb">https://t.co/OcGW2gNPwb</a></p>— Bad Packets Report (@bad_packets) <a href="https://twitter.com/bad_packets/status/924010623465275392?ref_src=twsrc%5Etfw">October 27, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <ul><li>USの著名なファクトチェックサイトにCoinhiveが埋め込まれ、閲覧者のCPU使用率が100%になる状態に</li> <li>PolitiFactのディレクターはクラウドサーバーの設定ミスが原因でCoinhiveが埋め込まれたと発言</li></ul> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/coinhive?src=hash&amp;ref_src=twsrc%5Etfw">#coinhive</a> injected into <a href="https://twitter.com/hashtag/CBS?src=hash&amp;ref_src=twsrc%5Etfw">#CBS</a> <a href="https://twitter.com/hashtag/SHOWTIME?src=hash&amp;ref_src=twsrc%5Etfw">#SHOWTIME</a>  mining <a href="https://twitter.com/hashtag/Monero?src=hash&amp;ref_src=twsrc%5Etfw">#Monero</a> crypto-coins in viewers' web browsers <a href="https://t.co/NGwH3qls9W">https://t.co/NGwH3qls9W</a> <a href="https://t.co/3ILVGiHJ2y">pic.twitter.com/3ILVGiHJ2y</a></p>— Laurent Perche (@Laurent_Perche) <a href="https://twitter.com/Laurent_Perche/status/914551244068413441?ref_src=twsrc%5Etfw">October 1, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <ul><li>CBS参加のテレビ局Showtimeの公式サイトにCoinhiveが埋め込まれる(ハックされた結果かどうかは不明)</li> <li><a href="https://www.wsj.com/articles/hackers-latest-move-using-your-computer-to-mine-bitcoin-1509102002?mod=e2tw" target="_blank" rel="noopener noreferrer">Wall Street Journalの取材<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>に対し、Showtimeのスポークスマンはコメントを辞退</li></ul> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr">We found AdsenseBase, yet another JavaScript cryptocurrency miner hosted in video streaming sites <a href="https://t.co/d139qSdpBP">pic.twitter.com/d139qSdpBP</a></p>— Microsoft MMPC (@msftmmpc) <a href="https://twitter.com/msftmmpc/status/922728149015826432?ref_src=twsrc%5Etfw">October 24, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr">AdsenseBase is embedded w/in multiple layers of iframes, an attempt to hide, just like the use of a name that doesn't have &quot;coin&quot; or &quot;miner&quot; <a href="https://t.co/V6esfl2pLi">pic.twitter.com/V6esfl2pLi</a></p>— Microsoft MMPC (@msftmmpc) <a href="https://twitter.com/msftmmpc/status/922728879088746497?ref_src=twsrc%5Etfw">October 24, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <ul><li>某ビデオストリーミングサイトにマイナーが埋め込まれた事例をMicrosoftが報告</li> <li>多段のiframeを使用 + &quot;coin&quot;/&quot;miner&quot;という単語を使わない等の工夫が施されているとのこと</li></ul> <blockquote data-lang="en" class="twitter-tweet"><p lang="en" dir="ltr">Continuing our series on Cryptominers on Hacked Sites: CoinHive shows up on more infected sites: <a href="https://t.co/qkZ6W0xEUT">https://t.co/qkZ6W0xEUT</a> by <a href="https://twitter.com/unmaskparasites?ref_src=twsrc%5Etfw">@unmaskparasites</a></p>— Sucuri (@sucurisecurity) <a href="https://twitter.com/sucurisecurity/status/923279877314408450?ref_src=twsrc%5Etfw">October 25, 2017</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
* WordPress, Joomla, DrupalなどのCMSがハックされ、マイナーが埋め込まれる事例をSucuriが報告
* 500以上のWordPressサイトがハックされているとのこと
<h3 id="日本国内事例"><a href="#日本国内事例" class="header-anchor">#</a> 日本国内事例</h3> <blockquote><p>今回観測した事象は、一般の日本企業のWebサイトが改ざんされて仮想通貨をマイニングするスクリプトが埋め込まれるというものです。</p> <p>ここで注意すべきなのは、仮想通貨をマイニングするスクリプトがWebサイトの管理者によって意図的に埋め込まれたものなのか、あるいは攻撃者が悪意を持って挿入したものなのかを外部から一律に判断することは困難という点です。</p> <p>今回に関しては、挿入されたスクリプトが発見されにくいように隠蔽されていたことから、攻撃者によって勝手に挿入されたものと判断しました。</p> <p>--- via IIJ <a href="https://wizsafe.iij.ad.jp/2017/10/94/" target="_blank" rel="noopener noreferrer">Webサイトの改ざんに伴う仮想通貨マイニングスクリプトの埋め込み事例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="どんんだけ儲かる"><a href="#どんんだけ儲かる" class="header-anchor">#</a> どんんだけ儲かる?</h2> <p>Cryptojackingは攻撃者にとってどれだけ実入りがいいものなのだろうか?</p> <p>Checkpointの試算結果によれば、1,000人のユーザーがいるサイトにCoinhiveを埋め込めば月収20万程度は達成できると推測されている。</p> <blockquote><p>Assuming the latest Monero network stats:
&gt;
Monero Hashrate: 266.122 Mh/s (current worldwide mining power)</p> <p>A new block is created every 2 minutes in average. (720 blocks per day)</p> <p>Reward per block is 6.2 XMR.</p> <p>1 XMR = 88.46$</p> <p>Every day 4464 XMR worth of blocks are created (720*6.2)</p> <p>One’s relative contribution to the network’s hashrate is 0.0000000169095 (45/266.12M)</p> <p>So we will receive 0.000754 XMR daily, per user.</p> <p>And for 1000 users, for 30 days: (1000<em>30</em>0.000754) = 22.62 XMR
ß
In dollars: 2001 USD    (22.62*88.46)</p> <p>--- via <a href="https://blog.checkpoint.com/2017/10/23/crypto-miners-part-2/" target="_blank" rel="noopener noreferrer">Crypto Miners Part 2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="エンドユーザー側での対策方法"><a href="#エンドユーザー側での対策方法" class="header-anchor">#</a> エンドユーザー側での対策方法</h2> <h3 id="avソフトによる対策"><a href="#avソフトによる対策" class="header-anchor">#</a> AVソフトによる対策</h3> <ul><li><code>coinhive.min.js</code>(39831bc68dddc4d22b7a0eea978a0193966d2cefda77a223c2b7140305e8b5fd)の検出率は28/59
<ul><li><img src="https://i.imgur.com/H5bO2OQ.png" alt="Imgur"></li> <li>https://www.virustotal.com/ja/us/file/39831bc68dddc4d22b7a0eea978a0193966d2cefda77a223c2b7140305e8b5fd/analysis/</li></ul></li> <li>Coinhive自体は合法であるため、AV側で検出すべきかどうかは議論が別れるところ</li></ul> <h3 id="拡張機能による対策"><a href="#拡張機能による対策" class="header-anchor">#</a> 拡張機能による対策</h3> <p><a href="https://github.com/keraf/NoCoin" target="_blank" rel="noopener noreferrer">NoCoin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/lesander/crypto-miner-blocker" target="_blank" rel="noopener noreferrer">Crypto Miner Blocker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/xd4rker/MinerBlock" target="_blank" rel="noopener noreferrer">MinerBlock<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>などJS実装の仮想通貨マイナーをブロックする拡張機能が公開されている。</p> <p>大別して、ドメインブラックリスト方式(NoCoin, Crypto Miner Blocker)とJS実装に割り込みをかける方式(MinerBlock)の二種類がある。</p> <p><strong>MinerBlockの実装</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'webkitStorageInfo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">continue</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Check coinhive miner</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>	<span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span>
		<span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'undefined'</span>
		<span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>isRunning <span class="token operator">===</span> <span class="token string">'function'</span>
		<span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>stop <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'[+] Coinhive miner found, stopping...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token function">triggerMbEvent</span><span class="token punctuation">(</span><span class="token string">'coinhive.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Coinhiveの公式実装では、マイニングをするインスタンスは<code>isRunning</code>メソッドと<code>stop</code>メソッドを持つ。</li> <li>MinerBlockはその両方の持つインスタンスがないか総当りでチェックを行い、該当するインスタンスがある場合は<code>stop</code>メソッドを呼び出しマイニングを中止させる。
<ul><li>この実装では少し改変されるだけでブロックできなくなる・・・</li></ul></li></ul> <h3 id="coinhive公式による対策"><a href="#coinhive公式による対策" class="header-anchor">#</a> Coinhive公式による対策</h3> <p>CoinhiveはユーザーがOpt-Inでマイニングに協力するかどうか選択できる実装を公開。</p> <ul><li><a href="https://coinhive.com/documentation/authedmine" target="_blank" rel="noopener noreferrer">AuthedMine<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><img src="https://i.imgur.com/Jekk03c.png" alt="Imgur"></li></ul></li></ul> <h3 id="ブラウザ実装による対策"><a href="#ブラウザ実装による対策" class="header-anchor">#</a> ブラウザ実装による対策</h3> <p>bugs.chromium.org上で何か対策ができないのかと議論中</p> <ul><li><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=766068" target="_blank" rel="noopener noreferrer">Please consider intervention for high cpu usage js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <blockquote><p>If a site is using more than XX% CPU for more than YY seconds, then we put the page into &quot;battery saver mode&quot; where we aggressively throttle tasks and show a toast allowing the user to opt-out of battery saver mode.</p></blockquote> <p>など色々と提案がなされているか、まとまるかは疑問。</p> <h2 id="まとめ"><a href="#まとめ" class="header-anchor">#</a> まとめ</h2> <ul><li>Cryptojackingが流行ってきている。</li> <li>エンドユーザー側での対策方法は色々あるが、ドメインブラックリスト方式の拡張機能を使うのがいいのではないか。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c8db5b8a.js" defer></script><script src="/assets/js/2.551672f8.js" defer></script><script src="/assets/js/8.b26ffa7b.js" defer></script>
  </body>
</html>
