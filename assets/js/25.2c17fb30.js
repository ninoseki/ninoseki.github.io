(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{306:function(e,t,r){"use strict";r.r(t);var o=r(10),s=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"page-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#page-title"}},[e._v("#")]),e._v(" "+e._s(e.$page.title))]),e._v(" "),t("p",[t("span",{staticStyle:{color:"#999"}},[e._v(e._s(e.$page.readingTime.text)+"...")])]),e._v(" "),t("p",[e._v("I'm developing a browser extension which is released on Chrome Web Store and Mozilla Add-ons. It has 2,000+ active users and somewhat good reputations.")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/ninoseki/mitaka",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/ninoseki/mitaka"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("Here are random notes and tips from my experience.")]),e._v(" "),t("h2",{attrs:{id:"tips-1-use-webextension-polyfill"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips-1-use-webextension-polyfill"}},[e._v("#")]),e._v(" Tips#1. Use webextension-polyfill")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/mozilla/webextension-polyfill",target:"_blank",rel:"noopener noreferrer"}},[e._v("webextension-polyfill"),t("OutboundLink")],1),e._v(" is a polyfill to fill gaps between Chrome and Firefox and also it provides Promise-based APIs.")]),e._v(" "),t("p",[e._v("It makes easy to develop a cross-platform extension in single code base.")]),e._v(" "),t("p",[e._v("Also, there is a wrapper for TypeScript named "),t("a",{attrs:{href:"https://github.com/Lusito/webextension-polyfill-ts",target:"_blank",rel:"noopener noreferrer"}},[e._v("webextension-polyfill-ts"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"tips-2-use-a-starter-kit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips-2-use-a-starter-kit"}},[e._v("#")]),e._v(" Tips#2. Use a starter kit")]),e._v(" "),t("p",[e._v("Webpack is a de-facto standard tool for bundling assets, but learning how to configure webpack is not easy.")]),e._v(" "),t("p",[e._v("So I recommend to use a starter kit.")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/abhijithvijayan/web-extension-starter/tree/master",target:"_blank",rel:"noopener noreferrer"}},[e._v("web-extension-starter"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A feature rich starter kit for TypeScript & webpack")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/chibat/chrome-extension-typescript-starter",target:"_blank",rel:"noopener noreferrer"}},[e._v("chrome-extension-typescript-starter"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A simple starter kit for TypeScript & webpack")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/Kocal/vue-web-extension",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-web-extension"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A starter kit for Vue.js & webpack")])])])]),e._v(" "),t("h2",{attrs:{id:"tips-3-use-a-mock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips-3-use-a-mock"}},[e._v("#")]),e._v(" Tips#3. Use a mock")]),e._v(" "),t("p",[e._v("Writing tests for background & content scripts is hard. Especially mocking APIs is troublesome. So you should use a proper mocking library for testing.")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/clarkbw/jest-webextension-mock",target:"_blank",rel:"noopener noreferrer"}},[e._v("jest-webextension-mock"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A mock module for Jest")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/lusito/mockzilla-webextension",target:"_blank",rel:"noopener noreferrer"}},[e._v("mockzilla-webextension"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A mock module for Jest & TypeScript")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/stoically/webextensions-api-mock",target:"_blank",rel:"noopener noreferrer"}},[e._v("webextensions-api-mock"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("A mock module for Sinon")])])])]),e._v(" "),t("h2",{attrs:{id:"tips-4-know-the-differences"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips-4-know-the-differences"}},[e._v("#")]),e._v(" Tips#4. Know the differences")]),e._v(" "),t("p",[t("code",[e._v("webextension-polyfill")]),e._v(" resolves most of the differences between Chrome and Firefox but still there are differences. So knowing the differences is very important.")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations",target:"_blank",rel:"noopener noreferrer"}},[e._v("Differences between API implementations"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"note-1-publishing-an-extension-is-not-easy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#note-1-publishing-an-extension-is-not-easy"}},[e._v("#")]),e._v(" Note#1. Publishing an extension is not easy")]),e._v(" "),t("p",[e._v("Publishing an extension is not easy. Especially publishing an extension on Chrome Web Store is difficult.")]),e._v(" "),t("p",[e._v("In Chrome Web Store:")]),e._v(" "),t("ul",[t("li",[e._v("You should write a "),t("a",{attrs:{href:"https://developer.chrome.com/webstore/terms#use",target:"_blank",rel:"noopener noreferrer"}},[e._v("privacy policy"),t("OutboundLink")],1),e._v(" to publish an extension.")]),e._v(" "),t("li",[e._v("You should write justifications if you use potentially dangerous APIs and permissions.\n"),t("img",{attrs:{src:"https://i.imgur.com/z0EWN1v.png",alt:""}})]),e._v(" "),t("li",[e._v("The submission to Chrome Web Store requires a human review and it takes time.\n"),t("img",{attrs:{src:"https://i.imgur.com/gOfFQx8.png",alt:""}})])]),e._v(" "),t("p",[e._v("In contrast, Mozilla Add-ons doesn't have a strict policy like Chrome Web Store has.")]),e._v(" "),t("p",[e._v('Mozilla Add-ons doesn\'t demand a privacy policy and a human review. Mozilla Add-ons demands "Notes to Reviewer" for submission, but it is just an option.')]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/3VdzXUs.png",alt:""}})]),e._v(" "),t("h2",{attrs:{id:"note-2-chrome-web-store-s-rejection-policy-is-unclear"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#note-2-chrome-web-store-s-rejection-policy-is-unclear"}},[e._v("#")]),e._v(" Note#2. Chrome Web Store's rejection policy is unclear")]),e._v(" "),t("p",[e._v('I\'ve got removal notifications from Chrome Web Store several times because of "Spam and Placement in the Store".')]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/4Pbln8T.png",alt:""}}),e._v(" "),t("img",{attrs:{src:"https://i.imgur.com/9gLFsFb.png",alt:""}})]),e._v(" "),t("p",[e._v("I swear that I haven't commit spamming. My extension is an OSS project and I don't have a way to monetize it. There is no reason to do spamming.")]),e._v(" "),t("p",[e._v("I asked the reason behind the removal, but there is no response from Chrome Web Store.")]),e._v(" "),t("p",[e._v("It is a little bit scary. Chrome dominates the market and it rejects an extension with an unclear reason.")]),e._v(" "),t("p",[e._v("I wish Chrome Web Store will have a clearer policy for rejection.")])])}),[],!1,null,null,null);t.default=s.exports}}]);